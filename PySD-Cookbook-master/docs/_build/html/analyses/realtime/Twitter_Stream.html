

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Feeding models with realtime streaming data &mdash; PySD-Cookbook 0.1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="PySD-Cookbook 0.1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Realtime Data Incorporation" href="index_realtime.html"/>
        <link rel="next" title="Model Development Workflow" href="../workflow/index_workflow.html"/>
        <link rel="prev" title="Nth Order Delay Demo" href="Nth_Order_Delay_Demo.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> PySD-Cookbook</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index_getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Introduction.html">Introduction to the PySD Cookbook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Installing.html">Installation and Setup of Python and PySD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Python.html">Getting Started with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Notebook.html">Using the Jupyter Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Git_and_Github.html">Working with <code class="docutils literal"><span class="pre">git</span></code> and github</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Hello_World_Teacup.html">Hello World: The Teacup Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_handling/index_data_handling.html">Data Handling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_handling/pandas.html">Data handling with Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_handling/Writing_to_Database.html">Saving Simulation Results to a Database</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index_visualization.html">Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../visualization/matplotlib.html">Basic Visualization with <code class="docutils literal"><span class="pre">matplotlib</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/other_visualization_libraries.html">Other Visualization Packages in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualization/phase_portraits.html">Phase Portraits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fitting/index_fitting.html">Model Fitting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fitting/Fitting_with_Optimization.html">Fitting a model&#8217;s parameters with run-at-a-time optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fitting/Step_at_a_time_optimization.html">Step-at-a-time optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fitting/Massively_Parallel_Fitting.html">Parallel Model Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fitting/MCMC_for_fitting_models.html">Fitting a model with Markov Chain Monte Carlo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../geo/index_geo.html">Geographic Analyses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#using-sd-to-understand-the-sd-fever">Using SD to understand the SD Fever</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#modify-parameter-values">Modify parameter values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#change-model-settings">Change Model settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#geographical-information">Geographical Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#run-the-model-for-each-country">Run the model for each country</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#transpose-simulation-results-for-plotting">Transpose simulation results for plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#comparative-analysis">Comparative Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#analysis-of-results">Analysis of results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#how-spatial-analysis-leads-to-insight">How Spatial Analysis Leads to Insight</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Doing_more_with_spatialdata_multi_regional_SIR_Model.html#plotting-simulation-results-on-map-with-ipywidgets">Plotting simulation results on map with Ipywidgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geo/Exploring_models_across_geographic_scales.html">Using SD models to understand the differences between population measures at varying levels of geographic disagregation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../surrogating_functions/index_surrogate.html">Surrogating Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../surrogating_functions/Surrogating_with_regression.html">Surrogating a function with a machine learning estimator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surrogating_functions/Surrogating_with_regression_Workbook.html">Surrogating a function with a machine learning estimator</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index_realtime.html">Realtime Data Incorporation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Nth_Order_Delay_Demo.html">Nth Order Delay Demo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Feeding models with realtime streaming data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../workflow/index_workflow.html">Model Development Workflow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../workflow/Unit_Testing.html">Unit Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data/index_data.html">Data Used in this Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../data/Baby_Names/Baby_Name_Data.html">Baby Name Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/Census/US_Census_Data_Collection.html">Collecting US decennial census data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/Climate/sources.html">Carbon Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/Defects_Synthetic/Manufacturing_Defects_Synthetic.html">Manufacturing Defects Synthetic Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/Ebola/Ebola_Data_Loader.html">Ebola Data Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../data/Emails/Email_Data_Formatter.html">Parse gmail <code class="docutils literal"><span class="pre">.mbox</span></code> file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../future.html">Chapters to be Written</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../endnotes.html">End Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../endnotes.html#for-instruction">For instruction</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">PySD-Cookbook</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index_realtime.html">Realtime Data Incorporation</a> &raquo;</li>
      
    <li>Feeding models with realtime streaming data</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/analyses/realtime/Twitter_Stream.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="feeding-models-with-realtime-streaming-data">
<h1>Feeding models with realtime streaming data<a class="headerlink" href="#feeding-models-with-realtime-streaming-data" title="Permalink to this headline">¶</a></h1>
<p>In this example, we&#8217;ll construct a very simple model of the number of
posts relating to a given topic on twitter timelines around the world.
We&#8217;ll feed the model with live streaming data from the twitter API and
run the model in real time.</p>
<div class="section" id="ingredients">
<h2>Ingredients<a class="headerlink" href="#ingredients" title="Permalink to this headline">¶</a></h2>
<div class="section" id="libraries">
<h3>Libraries<a class="headerlink" href="#libraries" title="Permalink to this headline">¶</a></h3>
<p>In addition to our standard data analytics stack, we&#8217;ll take advantage
of the <a class="reference external" href="http://tweepy.readthedocs.org/">tweepy</a> library for
interacting with the twitter API, the standard python library for
dealing with <a class="reference external" href="https://docs.python.org/2/library/json.html">JSON</a>
objects, and the standard python
<a class="reference external" href="https://docs.python.org/2/library/threading.html">threading</a>
library, to give us access to both the stream and the plots in real
time.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">pylab</span>
<span class="kn">import</span> <span class="nn">tweepy</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pysd</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">animation</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Using</span> <span class="n">matplotlib</span> <span class="n">backend</span><span class="p">:</span> <span class="n">MacOSX</span>
<span class="n">Populating</span> <span class="n">the</span> <span class="n">interactive</span> <span class="n">namespace</span> <span class="kn">from</span> <span class="nn">numpy</span> <span class="ow">and</span> <span class="n">matplotlib</span>
</pre></div>
</div>
</div>
<div class="section" id="twitter-credentials">
<h3>Twitter Credentials<a class="headerlink" href="#twitter-credentials" title="Permalink to this headline">¶</a></h3>
<p>If you want to execute this recipe, you&#8217;ll need to <a class="reference external" href="https://dev.twitter.com/">sign up for a
twitter developer account</a> and create a
file containing your credentials.</p>
<p>Name this file <code class="docutils literal"><span class="pre">_twitter_credentials.py</span></code> and save it in the working
directory. It should contain something similar to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">consumer_key</span> <span class="o">=</span> <span class="s1">&#39;sdjfhkdgjhsk8u09wejne4vdj8j34&#39;</span>
<span class="n">consumer_secret</span> <span class="o">=</span> <span class="s1">&#39;nvjsdv8wp43nneri&#39;</span>
<span class="n">access_token</span> <span class="o">=</span> <span class="s1">&#39;vndisoerihosfdbuttonmashingjkfdlasnvei&#39;</span>
<span class="n">access_token_secret</span> <span class="o">=</span> <span class="s1">&#39;navdjewrjodfjkmorebuttonmashingnjkasdoinv&#39;</span>
</pre></div>
</div>
<p>We can load these into our environment using the <code class="docutils literal"><span class="pre">import</span> <span class="pre">*</span></code> syntax.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">_twitter_credentials</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="model">
<h3>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h3>
<p>Our model is a simple delay process. The inflow of the process is the
rate at which twitter users post messages containing our keywords, and
the level decays over time as posts fall out of the top of users
timelines.</p>
<p>We&#8217;ll explicitly set the timescale in this demo, to show the behavior of
the system in a short timeperiod.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">pysd</span><span class="o">.</span><span class="n">read_vensim</span><span class="p">(</span><span class="s1">&#39;../../models/Twitter/Twitter.mdl&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">set_components</span><span class="p">({</span><span class="s1">&#39;displacement_timescale&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="the-recipe">
<h2>The Recipe<a class="headerlink" href="#the-recipe" title="Permalink to this headline">¶</a></h2>
<div class="section" id="listening-to-twitter">
<h3>Listening to twitter<a class="headerlink" href="#listening-to-twitter" title="Permalink to this headline">¶</a></h3>
<p>The first thing we&#8217;ll do is to create a variable that will track the
total number of posts recieved in the last model interation timeperiod.
This counter will be reset after every model timestep.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Next, we&#8217;ll construct a function that will be run whenever a tweet is
recieved from the API. This function will increase the counter value,
and format the tweet to print to the screen.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TweetListener</span><span class="p">(</span><span class="n">tweepy</span><span class="o">.</span><span class="n">StreamListener</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">on_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="k">global</span> <span class="n">counter</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="c1"># Twitter returns data in JSON format - we need to decode it first</span>
        <span class="n">decoded</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

        <span class="c1"># Also, we convert UTF-8 to ASCII ignoring all bad characters sent by users</span>
        <span class="nb">print</span> <span class="s1">&#39;@</span><span class="si">%s</span><span class="s1">: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">decoded</span><span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">][</span><span class="s1">&#39;screen_name&#39;</span><span class="p">],</span> <span class="n">decoded</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;ascii&#39;</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">):</span>
        <span class="nb">print</span> <span class="n">status</span>
</pre></div>
</div>
<p>The tweepy library manages formatting our credentials for the API
request:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">auth</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">OAuthHandler</span><span class="p">(</span><span class="n">consumer_key</span><span class="p">,</span> <span class="n">consumer_secret</span><span class="p">)</span>
<span class="n">auth</span><span class="o">.</span><span class="n">set_access_token</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">access_token_secret</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally we create the object that will parse the twitter stream, and
start it within its own thread.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="n">tweepy</span><span class="o">.</span><span class="n">Stream</span><span class="p">(</span><span class="n">auth</span><span class="p">,</span> <span class="n">TweetListener</span><span class="p">())</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">stream</span><span class="o">.</span><span class="n">filter</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;track&#39;</span><span class="p">:[</span><span class="s1">&#39;ISDC&#39;</span><span class="p">,</span> <span class="s1">&#39;PySD&#39;</span><span class="p">,</span> <span class="s1">&#39;ISDC15&#39;</span><span class="p">,</span> <span class="s1">&#39;Trump&#39;</span><span class="p">]})</span>
<span class="n">t</span><span class="o">.</span><span class="n">daemon</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="animation">
<h3>Animation<a class="headerlink" href="#animation" title="Permalink to this headline">¶</a></h3>
<p>First we create a function that will be called at every step in the
integration:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1">#make the animation</span>
<span class="k">def</span> <span class="nf">animate</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">counter</span>
    <span class="c1">#run the simulation forward</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">components</span><span class="o">.</span><span class="n">t</span><span class="o">+</span><span class="n">dt</span>
    <span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">({</span><span class="s1">&#39;tweeting&#39;</span><span class="p">:</span><span class="n">counter</span><span class="p">},</span>
              <span class="n">return_timestamps</span><span class="o">=</span><span class="n">time</span><span class="p">,</span>
              <span class="n">return_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tweeting&#39;</span><span class="p">,</span> <span class="s1">&#39;posts_on_timeline&#39;</span><span class="p">],</span>
              <span class="n">initial_condition</span><span class="o">=</span><span class="s1">&#39;current&#39;</span><span class="p">,</span>
              <span class="n">collect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">get_record</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s1">&#39;tweeting&#39;</span><span class="p">],</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Tweeting&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">out</span><span class="p">[</span><span class="s1">&#39;posts_on_timeline&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Posts on Timeline&#39;</span><span class="p">)</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="nd">@alisonjpotter</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@queenfeminist</span><span class="p">:</span> <span class="n">Retweet</span> <span class="k">for</span> <span class="n">Bernie</span> <span class="n">Sanders</span> <span class="n">fav</span> <span class="k">for</span> <span class="n">Hillary</span> <span class="n">Clinton</span>

<span class="n">Ignore</span> <span class="ow">and</span> <span class="n">Donald</span> <span class="n">Trump</span> <span class="n">wins</span>

<span class="nd">@MrTommyCampbell</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@swhammerhead</span><span class="p">:</span> <span class="c1">#WhenTrumpIsElected the letter H will be removed from the American lexicon as Trump doesn&#39;t pronounce it anyways.  It wil</span>

<span class="nd">@JBRichard50</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@BradThor</span><span class="p">:</span> <span class="s2">&quot;It&#39;s impossible for Perry to have stayed gov of TX for so long if he really is the person we saw in those debates.&quot;</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span>

<span class="nd">@AdeboyeOriade</span><span class="p">:</span> <span class="n">RT</span> <span class="nd">@politicususa</span><span class="p">:</span> <span class="n">President</span> <span class="n">Obama</span> <span class="n">Rips</span> <span class="n">Donald</span> <span class="n">Trump</span><span class="p">,</span> <span class="n">Mike</span> <span class="n">Huckabee</span><span class="p">,</span> <span class="ow">and</span> <span class="n">The</span> <span class="n">Entire</span> <span class="n">Republican</span> <span class="n">Party</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">krMZwVV1u0</span> <span class="n">via</span> <span class="nd">@politicusus</span>

<span class="nd">@1baldeagle77</span><span class="p">:</span> <span class="n">The</span> <span class="n">one</span> <span class="n">thing</span> <span class="n">that</span> <span class="n">makes</span> <span class="n">me</span> <span class="n">take</span> <span class="n">Donald</span> <span class="n">Trump</span> <span class="n">seriously</span> <span class="k">as</span> <span class="n">a</span> <span class="n">candidate</span>  <span class="n">Rush</span> <span class="n">Limbaugh</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">t</span><span class="o">.</span><span class="n">co</span><span class="o">/</span><span class="n">VxDAyO8xw7</span> <span class="n">via</span> <span class="nd">@voxdotcom</span>
</pre></div>
</div>
<p>Lastly we set the parameters for the animation, set up the figure, reset
the counter (which has been accumulating posts since we ran the first
part of the code) and start the animation.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1">#set the animation parameters</span>
<span class="n">fps</span><span class="o">=</span><span class="mi">1</span>
<span class="n">seconds</span><span class="o">=</span><span class="mi">60</span><span class="o">*</span><span class="mi">30</span>
<span class="n">dt</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">fps</span>

<span class="c1">#set up the plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">seconds</span><span class="p">)</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Expected Twitter Messages on First Page of Feed&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Seconds&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Posts, Posts/second&#39;</span><span class="p">)</span>

<span class="c1">#reset the counter to start fresh.</span>
<span class="n">counter</span><span class="o">=</span><span class="mi">0</span>

<span class="c1"># call the animator.</span>
<span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">animate</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                        <span class="n">frames</span><span class="o">=</span><span class="n">seconds</span><span class="o">*</span><span class="n">fps</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mf">1000.</span><span class="o">/</span><span class="n">fps</span><span class="p">,</span>
                        <span class="n">blit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>@shehelby: RT @ProBirdRights: How can they say me a bird can not be run for Presindent when Donal Trump a giant talking corn can??? #birb2016

@LacrosseUpdate: Hope Hicks flies quietly in the eye of the Trump storm http://t.co/SSUZKcyyiG http://t.co/3MlnhhsEwc

@thedancingqueer: RT @queenfeminist: Retweet for Bernie Sanders fav for Hillary Clinton

Ignore and Donald Trump wins

@BuzzFeedAndrew: &quot;Never a Bush fan,&quot; Donald Trump campaigned for H.W. in 1988 held a fundraiser for Jeb in 2002. http://t.co/7S2u6eSyrN

@david_alman: Fucking leftist media spends so much time covering Donald Trump&#39;s statements from 20 years ago that it neglects like...anything relevant.

@kcasa7131: RT @pdacosta: #WhenTrumpIsElected, he might appoint himself as Chairman of the Federal Reserve, and begin to issue Trump dollars. http://t.

@presidentrumped: President Trump: Mr Trump is a Gemini this means he is TOTALLY unpredictable! http://t.co/tP5lraAyUH

@MicheleUpdate: Nicolle Wallace: Trump Is &#39;Doing One Thing Really, Really Well&#39; http://t.co/kLfGNkCqyh

@jjyorktown: RT @ConanOBrien: Im on vacation. Please keep Trump popular while Im gone, I need him in the debates.

@MisaelDiazMLM: .@amazonmex @jcgs68 @amazon Amazon: Dejen de vender los libros de Donald Trump! - Firm la Peti... https://t.co/UMSTq5AxY2 va @Change_M

@StrongerForce: RT @BradThor: &quot;It&#39;s impossible for Perry to have stayed gov of TX for so long if he really is the person we saw in those debates.&quot; http://t

@cheyannebiancab: RT @bigmacher: #WhenTrumpIsElected everyone will get a Trump action figure that will buy all your play houses &amp;amp; then goes bankrupt. http://

@BigEers: RT @Mediaite: Chris Christie Will No Longer Comment Publicly on Donald Trump http://t.co/UrfQEfGklZ (AUDIO) http://t.co/5fEw69cvM7

@_miramira93: RT @SockHimBopHer: Bill Cosby&#39;s legacy is dead.. Donald Trump can possibly be the president.. The Klan is traveling like an AAU team.. And

@paigekathstev: RT @ConanOBrien: Im on vacation. Please keep Trump popular while Im gone, I need him in the debates.

@BMLewis2: RT @GStuedler: I cant see it happening, but in the slim chance it doesa Donald Trump nomination would mean they have completely given up.

@DebndanfarrDeb: Donald Trump Surges to Lead in NH GOP Presidential Poll, Erases Another&#39;s Iowa Lead - The Political Insider http://t.co/3exB1TrjPJ via
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span> <span class="n">at</span> <span class="mh">0x114fc0c90</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../workflow/index_workflow.html" class="btn btn-neutral float-right" title="Model Development Workflow">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Nth_Order_Delay_Demo.html" class="btn btn-neutral" title="Nth Order Delay Demo"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, James Houghton.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>